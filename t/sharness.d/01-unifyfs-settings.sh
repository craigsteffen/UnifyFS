#
# Export variables to control UNIFYFS runtime settings.
#

#
# Source a script that is dynamically generated by 0001-setup.t.
#
source $UNIFYFS_TEST_RUN_SCRIPT

# Common settings
export UNIFYFS_LOG_VERBOSITY=${UNIFYFS_LOG_VERBOSITY:-5}
export UNIFYFS_MOUNTPOINT=${UNIFYFS_TEST_MOUNT:-"/unifyfs"}

# Server settings
export UNIFYFS_LOG_DIR=${UNIFYFS_LOG_DIR:-$UNIFYFS_TEST_STATE}
export UNIFYFS_LOG_FILE="unifyfsd.log"
export UNIFYFS_META_DB_PATH=${UNIFYFS_TEST_META}
export UNIFYFS_RUNSTATE_DIR=${UNIFYFS_TEST_STATE}
export UNIFYFS_SHAREDFS_DIR=${UNIFYFS_TEST_SHARE}

# Client settings
export UNIFYFS_SPILLOVER_ENABLED=${UNIFYFS_SPILLOVER_ENABLED:-"Y"}
export UNIFYFS_SPILLOVER_SIZE=$((5 * (2 ** 30)))
export UNIFYFS_SPILLOVER_META_DIR=${UNIFYFS_TEST_SPILL}
export UNIFYFS_SPILLOVER_DATA_DIR=${UNIFYFS_TEST_SPILL}
